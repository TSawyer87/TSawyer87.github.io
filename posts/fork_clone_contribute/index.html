<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fork_clone_contribute | NixOS Blog</title><meta name=keywords content><meta name=description content="Fork, Clone, Contribute


In the Nixpkgs Repository.


Click Fork, then Create a new Fork.


Uncheck the box &ldquo;Only fork the master branch&rdquo;, for development we will need
more branches for development.

If you only fork master, you won&rsquo;t have the nixos-XX.YY release branches
available on your fork when you later try to create a PR against them, or
when you want to create a feature branch from them on your fork.



Click <> Code and Clone the Repo. saylesss88 is the name of my GitHub,
yours will obviously be different."><meta name=author content><link rel=canonical href=https://tsawyer87.github.io/posts/fork_clone_contribute/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://tsawyer87.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tsawyer87.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tsawyer87.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tsawyer87.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tsawyer87.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tsawyer87.github.io/posts/fork_clone_contribute/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://tsawyer87.github.io/posts/fork_clone_contribute/"><meta property="og:site_name" content="NixOS Blog"><meta property="og:title" content="Fork_clone_contribute"><meta property="og:description" content="Fork, Clone, Contribute In the Nixpkgs Repository.
Click Fork, then Create a new Fork.
Uncheck the box “Only fork the master branch”, for development we will need more branches for development.
If you only fork master, you won’t have the nixos-XX.YY release branches available on your fork when you later try to create a PR against them, or when you want to create a feature branch from them on your fork. Click <> Code and Clone the Repo. saylesss88 is the name of my GitHub, yours will obviously be different."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-06-15T18:24:27-04:00"><meta property="article:modified_time" content="2025-06-15T18:24:27-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fork_clone_contribute"><meta name=twitter:description content="Fork, Clone, Contribute


In the Nixpkgs Repository.


Click Fork, then Create a new Fork.


Uncheck the box &ldquo;Only fork the master branch&rdquo;, for development we will need
more branches for development.

If you only fork master, you won&rsquo;t have the nixos-XX.YY release branches
available on your fork when you later try to create a PR against them, or
when you want to create a feature branch from them on your fork.



Click <> Code and Clone the Repo. saylesss88 is the name of my GitHub,
yours will obviously be different."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tsawyer87.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Fork_clone_contribute","item":"https://tsawyer87.github.io/posts/fork_clone_contribute/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fork_clone_contribute","name":"Fork_clone_contribute","description":"Fork, Clone, Contribute In the Nixpkgs Repository.\nClick Fork, then Create a new Fork.\nUncheck the box \u0026ldquo;Only fork the master branch\u0026rdquo;, for development we will need more branches for development.\nIf you only fork master, you won\u0026rsquo;t have the nixos-XX.YY release branches available on your fork when you later try to create a PR against them, or when you want to create a feature branch from them on your fork. Click \u0026lt;\u0026gt; Code and Clone the Repo. saylesss88 is the name of my GitHub, yours will obviously be different.\n","keywords":[],"articleBody":"Fork, Clone, Contribute In the Nixpkgs Repository.\nClick Fork, then Create a new Fork.\nUncheck the box “Only fork the master branch”, for development we will need more branches for development.\nIf you only fork master, you won’t have the nixos-XX.YY release branches available on your fork when you later try to create a PR against them, or when you want to create a feature branch from them on your fork. Click \u003c\u003e Code and Clone the Repo. saylesss88 is the name of my GitHub, yours will obviously be different.\ngit clone git@github.com:saylesss88/nixpkgs.git Figure out the branch that should be used for this change by going through this section\nWhen in doubt use master, that’s where most changes should go. This can be changed later by rebasing\ncd nixpkgs git remote add upstream https://github.com/NixOS/nixpkgs.git # Make sure you have the latest changes from upstream Nixpkgs git fetch upstream # Show currently configured remote repository git remote -v origin git@github.com:saylesss88/nixpkgs.git (fetch) origin git@github.com:saylesss88/nixpkgs.git (push) upstream https://github.com/NixOS/nixpkgs.git (fetch) upstream https://github.com/NixOS/nixpkgs.git (push) Understanding Your Remotes\nThis output confirms that:\norigin is your personal fork on GitHub (saylesss88/nixpkgs.git). When you git push origin ..., your changes go here.\nupstream is the official Nixpkgs repository (NixOS/nixpkgs.git). When you git fetch upstream, you’re getting the latest updates from the main project.\nThis setup ensures you can easily pull updates from the original project and push your contributions to your own fork.\n# Shows a ton of branches git branch -r | grep upstream # Narrow it down git branch -r | grep upstream | grep nixos- Next Steps for Contributing\nEnsure master is up to date with upstream git checkout master git fetch upstream git pull upstream master git push origin master This keeps your fork in sync to avoid conflicts.\nIf targeting another branch, replace master with nixos-24.11 for example.\nCreate a Feature Branch git checkout master git checkout -b my-feature-branch # name should represent the feature Make and Test Changes Packaging Conventions\nNew package: Add to pkgs/by-name///default.nix.\nExample structure:\n{ lib, stdenv, fetchFromGitHub }: stdenv.mkDerivation { pname = \"xyz\"; version = \"1.2.3\"; src = fetchFromGitHub { ... }; ... } Update package: Edit version and sha256 in the package’s default.nix. Use nix-prefetch-url to update hashes:\nnix-prefetch-url Fix a bug: Modify files in pkgs/, nixos/modules/, or elsewhere.\nTest locally:\nBuild:\nnix-build -A Test in a shell:\nbash nix-shell -p For NixOS modules:\nnixos-rebuild test Follow the Nixpkgs Contributing Guide.\nCommit and Push Commit with a clear message, make sure to follow commit conventions:\nCommit Conventions\nCreate a commit for each logical unit.\nCheck for unnecessary whitespace with git diff --check before committing.\nIf you have commits pkg-name: oh, forgot to insert whitespace: squash commits in this case. Use git rebase -i. See Squashing Commits for additional information.\nFor consistency, there should not be a period at the end of the commit message’s summary line (the first line of the commit message).\nWhen adding yourself as maintainer in the same pull request, make a separate commit with the message maintainers: add . Add the commit before those making changes to the package or module. See Nixpkgs Maintainers for details.\nFormat the commit messages in the following way:\n(pkg-name): (from -\u003e to | init at version | refactor | etc) (Motivation for change. Link to release notes. Additional information.) a) For example, for the airshipper package:\ngit add pkgs/by-name/ai/airshipper/ git commit -m \"airshipper: init at 0.1.0\" Adds the airshipper tool for managing game assets. Upstream homepage: https://github.com/someuser/airshipper\" b) Updating airshipper to a new version\ngit add pkgs/by-name/ai/airshipper/ git commit -m \"airshipper: 0.1.0 -\u003e 0.2.0 Updated airshipper to version 0.2.0. This release includes: - Improved asset fetching logic - Bug fixes for network errors Release notes: https://github.com/someuser/airshipper/releases/tag/v0.2.0\" c) Fixing a bug in airshipper’s package definition\ngit add pkgs/by-name/ai/airshipper/ git commit -m \"airshipper: fix: build with latest glibc Resolved build failures on unstable channel due to changes in glibc. Patched source to use updated API calls. \" Examples:\nnginx: init at 2.0.1\nfirefox: 122.0 -\u003e 123.0\nvim: fix build with gcc13\nPush:\ngit push origin my-feature-branch Create a Pull Request Go to (your fork) Click the PR prompt for my-feature-branch. Set the base branch to NixOS/nixpkgs:master (or nixos-24.11). Write a PR description: Purpose of the change. Related issues (e.g., Fixes #1234). Testing steps (e.g., nix-build -A ). Submit and respond to feedback.\nHandle Updates For reviewer feedback or upstream changes:\nEdit, commit, and push:\ngit add . git commit -m \": address feedback\" git push origin my-feature-branch Rebase if needed: bash\ngit fetch upstream git rebase upstream/master # or upstream/nixos-24.11 git push origin my-feature-branch --force Cleanup After PR merge:\nDelete branch:\ngit push origin --delete my-feature-branch Sync master:\ngit checkout master git pull upstream master git push origin master Addressing the Many Branches\nNo need to manage all branches: The nixos-branches are just metadata from upstream. You only check out the one you need (e.g., master or nixos-24.11).\nFocus on relevant branches: The filter (grep nixos-) shows the key release branches. Ignore -small branches and older releases unless specifically required. Confirm latest stable: If you’re targeting a stable branch, nixos-24.11 is likely the latest (or nixos-25.05 if it’s active). Verify via NixOS status.\n","wordCount":"867","inLanguage":"en","datePublished":"2025-06-15T18:24:27-04:00","dateModified":"2025-06-15T18:24:27-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://tsawyer87.github.io/posts/fork_clone_contribute/"},"publisher":{"@type":"Organization","name":"NixOS Blog","logo":{"@type":"ImageObject","url":"https://tsawyer87.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tsawyer87.github.io/ accesskey=h title="NixOS Blog (Alt + H)">NixOS Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Fork_clone_contribute</h1><div class=post-meta><span title='2025-06-15 18:24:27 -0400 EDT'>June 15, 2025</span></div></header><div class=post-content><h1 id=fork-clone-contribute>Fork, Clone, Contribute<a hidden class=anchor aria-hidden=true href=#fork-clone-contribute>#</a></h1><ul><li><p>In the <a href=https://github.com/NixOS/nixpkgs>Nixpkgs</a> Repository.</p></li><li><p>Click Fork, then Create a new Fork.</p></li><li><p>Uncheck the box &ldquo;Only fork the <code>master</code> branch&rdquo;, for development we will need
more branches for development.</p><ul><li>If you only fork master, you won&rsquo;t have the <code>nixos-XX.YY</code> release branches
available on your fork when you later try to create a PR against them, or
when you want to create a feature branch from them on your fork.</li></ul></li><li><p>Click <code>&lt;> Code</code> and Clone the Repo. <code>saylesss88</code> is the name of my GitHub,
yours will obviously be different.</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone git@github.com:saylesss88/nixpkgs.git
</span></span></code></pre></div><p>Figure out the branch that should be used for this change by going through
<a href=https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#branch-conventions>this section</a></p><p>When in doubt use <code>master</code>, that&rsquo;s where most changes should go. This can be
changed later by
<a href=https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#rebasing-between-branches-ie-from-master-to-staging>rebasing</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd nixpkgs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git remote add upstream https://github.com/NixOS/nixpkgs.git
</span></span><span style=display:flex><span><span style=color:#75715e># Make sure you have the latest changes from upstream Nixpkgs</span>
</span></span><span style=display:flex><span>git fetch upstream
</span></span><span style=display:flex><span><span style=color:#75715e># Show currently configured remote repository</span>
</span></span><span style=display:flex><span>git remote -v
</span></span><span style=display:flex><span>origin  git@github.com:saylesss88/nixpkgs.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>origin  git@github.com:saylesss88/nixpkgs.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>upstream        https://github.com/NixOS/nixpkgs.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>upstream        https://github.com/NixOS/nixpkgs.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</span></span></code></pre></div><p><strong>Understanding Your Remotes</strong></p><p>This output confirms that:</p><ul><li><p><code>origin</code> is your personal fork on GitHub (<code>saylesss88/nixpkgs.git</code>). When you
<code>git push origin ...</code>, your changes go here.</p></li><li><p><code>upstream</code> is the official Nixpkgs repository (<code>NixOS/nixpkgs.git</code>). When you
<code>git fetch upstream</code>, you&rsquo;re getting the latest updates from the main project.</p></li></ul><p>This setup ensures you can easily pull updates from the original project and
push your contributions to your own fork.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Shows a ton of branches</span>
</span></span><span style=display:flex><span>git branch -r | grep upstream
</span></span><span style=display:flex><span><span style=color:#75715e># Narrow it down</span>
</span></span><span style=display:flex><span>git branch -r | grep upstream | grep nixos-
</span></span></code></pre></div><p>Next Steps for Contributing</p><ol><li>Ensure <code>master</code> is up to date with <code>upstream</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git fetch upstream
</span></span><span style=display:flex><span>git pull upstream master
</span></span><span style=display:flex><span>git push origin master
</span></span></code></pre></div><p>This keeps your fork in sync to avoid conflicts.</p><p>If targeting another branch, replace <code>master</code> with <code>nixos-24.11</code> for example.</p><ol start=2><li>Create a Feature Branch</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git checkout -b my-feature-branch <span style=color:#75715e># name should represent the feature</span>
</span></span></code></pre></div><ol start=3><li>Make and Test Changes</li></ol><p><a href=https://github.com/NixOS/nixpkgs/blob/master/pkgs/README.md#conventions>Packaging Conventions</a></p><p>New package: Add to
<code>pkgs/by-name/&lt;first-two-letters>/&lt;package-name>/default.nix</code>.</p><p>Example structure:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>{ lib<span style=color:#f92672>,</span> stdenv<span style=color:#f92672>,</span> fetchFromGitHub }: stdenv<span style=color:#f92672>.</span>mkDerivation {
</span></span><span style=display:flex><span>pname <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;xyz&#34;</span>; version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1.2.3&#34;</span>; src <span style=color:#f92672>=</span> fetchFromGitHub { <span style=color:#f92672>...</span> }; <span style=color:#f92672>...</span> }
</span></span></code></pre></div><p>Update package: Edit version and <code>sha256</code> in the package’s <code>default.nix</code>. Use
<code>nix-prefetch-url</code> to update hashes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nix-prefetch-url &lt;source-url&gt;
</span></span></code></pre></div><p>Fix a bug: Modify files in <code>pkgs/</code>, <code>nixos/modules/</code>, or elsewhere.</p><p>Test locally:</p><p>Build:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nix-build -A &lt;package-name&gt;
</span></span></code></pre></div><p>Test in a shell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> bash nix-shell -p &lt;package-name&gt;
</span></span></code></pre></div><p>For NixOS modules:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nixos-rebuild test
</span></span></code></pre></div><p>Follow the Nixpkgs Contributing Guide.</p><ol start=4><li>Commit and Push</li></ol><p>Commit with a clear message, make sure to follow
<a href=https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#commit-conventions>commit conventions</a>:</p><p><strong>Commit Conventions</strong></p><ul><li><p>Create a commit for each logical unit.</p></li><li><p>Check for unnecessary whitespace with <code>git diff --check</code> before committing.</p></li><li><p>If you have commits <code>pkg-name: oh, forgot to insert whitespace</code>: squash
commits in this case. Use <code>git rebase -i</code>. See
<a href=https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History#_squashing>Squashing Commits</a>
for additional information.</p></li><li><p>For consistency, there should not be a period at the end of the commit
message&rsquo;s summary line (the first line of the commit message).</p></li><li><p>When adding yourself as maintainer in the same pull request, make a separate
commit with the message maintainers: add . Add the commit before those
making changes to the package or module. See
<a href=https://github.com/NixOS/nixpkgs/blob/master/maintainers/README.md>Nixpkgs Maintainers</a>
for details.</p></li></ul><p>Format the commit messages in the following way:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>(</span>pkg-name<span style=color:#f92672>)</span>: <span style=color:#f92672>(</span>from -&gt; to | init at version | refactor | etc<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>Motivation <span style=color:#66d9ef>for</span> change. Link to release notes. Additional information.<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>a) For example, for the <code>airshipper</code> package:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add pkgs/by-name/ai/airshipper/
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;airshipper: init at 0.1.0&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Adds the airshipper tool <span style=color:#66d9ef>for</span> managing game assets.
</span></span><span style=display:flex><span>Upstream homepage: https://github.com/someuser/airshipper<span style=color:#e6db74>&#34;
</span></span></span></code></pre></div><p>b) Updating <code>airshipper</code> to a new version</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add pkgs/by-name/ai/airshipper/
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;airshipper: 0.1.0 -&gt; 0.2.0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Updated airshipper to version 0.2.0. This release includes:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- Improved asset fetching logic
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- Bug fixes for network errors
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Release notes: https://github.com/someuser/airshipper/releases/tag/v0.2.0&#34;</span>
</span></span></code></pre></div><p>c) Fixing a bug in <code>airshipper</code>&rsquo;s package definition</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add pkgs/by-name/ai/airshipper/
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;airshipper: fix: build with latest glibc
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Resolved build failures on unstable channel due to changes in glibc.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Patched source to use updated API calls.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>Examples:</p><ul><li><p><code>nginx: init at 2.0.1</code></p></li><li><p><code>firefox: 122.0 -> 123.0</code></p></li><li><p><code>vim: fix build with gcc13</code></p></li></ul><p>Push:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin my-feature-branch
</span></span></code></pre></div><ol start=5><li>Create a Pull Request</li></ol><p>Go to (your fork) Click the PR prompt for my-feature-branch. Set the base branch
to <code>NixOS/nixpkgs:master</code> (or <code>nixos-24.11</code>). Write a PR description: Purpose of
the change. Related issues (e.g., Fixes #1234). Testing steps (e.g.,
<code>nix-build -A &lt;package-name></code>). Submit and respond to feedback.</p><ol start=6><li>Handle Updates</li></ol><p>For reviewer feedback or upstream changes:</p><p>Edit, commit, and push:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add . git commit -m <span style=color:#e6db74>&#34;&lt;package-name&gt;: address feedback&#34;</span> git push origin my-feature-branch
</span></span></code></pre></div><p>Rebase if needed: bash</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git fetch upstream
</span></span><span style=display:flex><span>git rebase upstream/master  <span style=color:#75715e># or upstream/nixos-24.11</span>
</span></span><span style=display:flex><span>git push origin my-feature-branch --force
</span></span></code></pre></div><ol start=7><li>Cleanup</li></ol><p>After PR merge:</p><p>Delete branch:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin --delete my-feature-branch
</span></span></code></pre></div><p>Sync master:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git pull upstream master
</span></span><span style=display:flex><span>git push origin master
</span></span></code></pre></div><p>Addressing the Many Branches</p><ul><li><p>No need to manage all branches: The nixos-branches are just metadata from
upstream. You only check out the one you need (e.g., <code>master</code> or
<code>nixos-24.11</code>).</p></li><li><p>Focus on relevant branches: The filter (<code>grep nixos-</code>) shows the key release
branches. Ignore -small branches and older releases unless specifically
required. Confirm latest stable: If you’re targeting a stable branch,
<code>nixos-24.11</code> is likely the latest (or <code>nixos-25.05</code> if it’s active). Verify
via NixOS status.</p></li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tsawyer87.github.io/>NixOS Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>