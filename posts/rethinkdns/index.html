<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>RethinkDNS | NixOS Blog</title><link rel=icon href=favicon.svg sizes=any type=image/svg+xml><meta property="og:url" content="https://TSawyer87.github.io/posts/rethinkdns/"><meta property="og:site_name" content="NixOS Blog"><meta property="og:title" content="RethinkDNS"><meta property="og:description" content="Rethink DNS RethinkDNS is a DNS Resolver service with custom rules and blocklists as well as a firewall.
The DNS mode gives the end-user their own unique server-endpoint and routes all DNS traffic from the mobile device to their assigned endpoint encrypted over TLS.–the-one-pager
A DNS resolver is an address book of the internet, it helps locate IP addresses of the servers given a domain name. For example, dns.google.com (a domain name) is located at 8.8.8.8 (IP address). This mapping is retrieved by a DNS resolver."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-09T15:57:33-04:00"><meta property="article:modified_time" content="2025-09-09T15:57:33-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="RethinkDNS"><meta name=twitter:description content="Rethink DNS RethinkDNS is a DNS Resolver service with custom rules and blocklists as well as a firewall.
The DNS mode gives the end-user their own unique server-endpoint and routes all DNS traffic from the mobile device to their assigned endpoint encrypted over TLS.–the-one-pager
A DNS resolver is an address book of the internet, it helps locate IP addresses of the servers given a domain name. For example, dns.google.com (a domain name) is located at 8.8.8.8 (IP address). This mapping is retrieved by a DNS resolver."><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css integrity="sha256-WesaBZ+M1VjmQ3Xt4+aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin=anonymous><script src=/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://TSawyer87.github.io/ style=color:inherit>NixOS Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
<svg class="dark-icon" viewBox="0 0 24 24" fill="none"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://TSawyer87.github.io/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://TSawyer87.github.io/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>RethinkDNS</h1><time class=dim datetime=2025-09-09T15:57:33-04:00>September 9, 2025</time></div><section class=page-section><h1 id=rethink-dns>Rethink DNS</h1><p>RethinkDNS is a DNS Resolver service with custom rules and blocklists as well as
a firewall.</p><p>The DNS mode gives the end-user their own unique server-endpoint and routes all
DNS traffic from the mobile device to their assigned endpoint encrypted over
TLS.&ndash;<a href=https://blog.rethinkdns.com/the-2021-one-pager>the-one-pager</a></p><p>A <strong>DNS resolver</strong> is an address book of the internet, it helps locate IP
addresses of the servers given a domain name. For example, dns.google.com (a
domain name) is located at 8.8.8.8 (IP address). This mapping is retrieved by a
DNS resolver.</p><p>The DNS resolver runs on <code>Fly.io</code> and on Cloudflare Workers, a low-latency
serverless environment available in over 300 cities worldwide. This broad
distribution helps enhance anonymity for people using Orbot.</p><p>Orbot (Tor) can be used along side RethinkDNS as a Proxy server to change the IP
address. See <a href=https://docs.rethinkdns.com/firewall/orbot/>Orbot Integration</a></p><p>You can also add a WireGuard configuration to the Rethink DNS + Firewall + VPN
app. See <a href=https://docs.rethinkdns.com/proxy/wireguard/>WireGuard</a></p><p>You can configure Rethink in your device / internet browser that supports Secure
DNS (aka DNS over HTTPS).</p><h2 id=configure-a-custom-dns-resolver-with-custom-blocklists-through-rethink-website>Configure a Custom DNS resolver with Custom blocklists through Rethink website</h2><p>These are <strong>not</strong> for devices that have the app on them. You can use these on
your computer for example.</p><ol><li><p>Go to: <a href=https://www.rethinkdns.com/configure>RethinkDNS Configure</a></p></li><li><p>Use either the <code>simple -></code> for groups of blocklists, or <code>advanced -></code> for
more fine grained control.</p></li><li><p>Once you have them all selected, decide if you want to use DoH or DoT by
clicking the <code>DoH</code> button under the Rethink Logo.</p></li></ol><ul><li><p>DoH resolver addresses&rsquo; look like: <code>https://sky.rethinkdns.com/</code></p></li><li><p>DoT resolver addresses&rsquo; look like: <code>1-cbycee6juakjaaa</code></p></li></ul><p>For Firefox, open Settings, Privacy & Security, scroll down to Enable DNS over
HTTPS using: Max Protection, Custom, and enter <code>https://sky.rethinkdns.com/</code></p><p>Firefox doesn&rsquo;t support DoT natively yet.</p><h2 id=rethink-on-android>Rethink on Android</h2><p>The front-end Android app is open-source:
<a href=https://github.com/celzero/rethink-app>rethink-app</a></p><p>RethinkDNS doesn&rsquo;t capture or send any user analytics from the app.</p><p><strong>RethinkDNS takes over</strong>:</p><ol><li><p>VPN Slot: RethinkDNS works by creating a local VPN on your device. It&rsquo;s not a
traditional VPN that routes your traffic to a remote server. Instead, it
creates a secure tunnel on your phone that all network traffic (including DNS
queries) must pass through.</p></li><li><p>Centralized DNS Handling: Because it occupies the local VPN slot, it
intercepts all DNS requests from every app on your device.</p></li><li><p>App-Level Control: Unlike Android&rsquo;s Private DNS, which is a system-wide
setting, Rethink gives you more granular control over how each individual app
handles its network traffic. This enables you to:</p></li></ol><ul><li><p>Force all apps to use the same DNS server you&rsquo;ve configured through Rethink.</p></li><li><p>Block apps that try to bypass your settings.</p></li><li><p>Apply different rules to different apps.</p></li><li><p>Analyze and log the DNS and network activity for every app, giving you a clear
view of what your phone is doing in the background.</p><ul><li>I have never used the Microsoft Link to Windows and even went into settings
and disabled it and force stopped it and Link to Windows is still the most
blocked app on my device constantly trying to phone home.</li></ul></li></ul><h2 id=rethink-rules>Rethink Rules</h2><ul><li><p>Go to <code>Configure -> Apps</code>, and tap the 🛜📶 to block all apps.</p></li><li><p>Now, search for the apps you use and either Bypass Universal, or Isolate them.</p></li><li><p>Bypass Universal the <code>Google Play services</code> app, this is required for updates
and more.</p></li></ul><h2 id=rethink-firewall>Rethink Firewall</h2><p>On-device firewall is free. The in-the-cloud Rethink DNS content-blocking
resolver has both free (public beta) and paid tiers (private beta). Currently,
pricing isn&rsquo;t implemented and so the private beta is essentially also free till
then. &ndash;<a href=https://rethinkdns.com/faq>RethinkFAQ</a></p><p>It&rsquo;s not a traditional firewall, but blocks TCP and UDP connections. This is
sufficient for most apps as they rarely use other forms of TCP/IP transport.</p><p>The Firewall app lets you view searchable network logs per connection; lets you
know which apps were blocked and when, and which apps are connected where.</p><p>With the Firewall, you can set Universal Rules.</p><p>Go to <code>Configure</code>, <code>Firewall</code>, <code>Universal firewall rules</code> and set:</p><ul><li><p>Block all apps when device is locked</p></li><li><p>Block newly Installed Apps</p></li><li><p>I block any app not in use and block port 80 (insecure HTTP) traffic</p></li><li><p>From here you can get more restrictive if you so choose</p></li></ul><h2 id=choose-ip-version>Choose IP Version</h2><p>Go to <code>Configure -> Network</code>:</p><p>From here you can choose a fallback DNS</p><ul><li><p>The app defaults to using IPv4, you can either set it to <code>IPv6(experimental)</code>,
or <code>Auto (experimental)</code>.</p></li><li><p>If you want Rethink to use either wifi or mobile data at the same time, turn
on <code>Use all available networks</code></p></li><li><p>Many of these tips come from the following Forum:</p><ul><li><a href=https://discuss.grapheneos.org/d/12728-proton-apps-pinging-google-api-sending-reports-back-after-opting-out/54>GrapheneOS Discussion Forum on Rethink</a></li></ul></li></ul><h2 id=understanding-dns-over-https-and-dns-over-tls-in-the-rethinkdns-app>Understanding DNS over HTTPS and DNS over TLS in the RethinkDNS App</h2><p>It&rsquo;s my understanding that the website is for computer use and you use the
RethinkDNS app for your phone. They are completely separate and not used
together.</p><p>When you configure and enable Rethink to control DNS over HTTPS, if your browser
is also enforcing strict DNS over HTTPS to a different DNS resolver, they will
be blocked by Rethink as a <code>DNS bypass</code>.</p><p>For Android Firefox, switch the DNS over HTTPS setting to &ldquo;Default Protection
Firefox will use your system&rsquo;s DNS resolver&rdquo;. This will allow Firefox to use
Rethink&rsquo;s DNS resolver.</p><h2 id=using-a-custom-dns-in-the-app>Using a Custom DNS in the App</h2><p>Go to Configure, DNS, Other DNS. From there you have quite a few choices.</p><p>Let&rsquo;s say you chose DoT for DNS-over-TLS, from there you can choose between 5
providers. Mullvad has a good reputation for keeping minimal data.</p><p>If Firefox is set to its default DNS-over-HTTPS (DoH) mode, it should now use
DNS-over-TLS (DoT) through the RethinkDNS app. This is a powerful feature, as it
allows all traffic on your device to be routed through any of the following
protocols:</p><ul><li>DNS-over-HTTPS (DoH)</li><li>DNS-over-TLS (DoT)</li><li>DNSCrypt (DC)</li><li>DNS Proxy (DNS 53)</li><li>Oblivious DoH (ODoH)</li><li>RethinkDNS (RDNS)</li></ul><p>While Firefox natively supports only DoH, using the RethinkDNS app unlocks many
more choices. DoT, in particular, is a newer and often preferable protocol
compared to DoH for several reasons.</p><h2 id=logs>Logs</h2><p><strong>By default, no logs are sent or stored</strong>. Only if a paying customer enables
logs are they even captured; otherwise; there&rsquo;s zero information that&rsquo;s stored
on their servers with respect to the DNS requests sent to the Rethink DNS'
resolver.</p><p>Currently, you can
<a href=https://rethinkdns.com/cdn-cgi/l/email-protection#b6ded3dadad9f6d5d3daccd3c4d998d5d9db>drop them a note</a>
to purge the system of your logs.</p><p>Go to Configure, Logs, and try to access the app that&rsquo;s not working. You should
see said app at the top of the Network Logs, click it. In the top right of the
tab, you&rsquo;ll see the reason why it&rsquo;s not working such as: <code>App Blocked</code>, or
<code>DNS Bypass</code>.</p><p>Once you click on the log of the app in question, you&rsquo;ll be given 3 drop down
options. If you set an app to Bypass DNS and Firewall settings, you will see
that in the first dropdown box.</p><p>The next drop down is &lsquo;Block,trust this IP for this app&rsquo; where you can set a
rule to &lsquo;Block&rsquo; or &lsquo;Trust&rsquo;.</p><p>Apps like Reddit rely on many third-party services, backend APIs etc. to work.
It&rsquo;s my understanding that this fine grained control isn&rsquo;t fully worked out yet
and some connections or domains will stay blocked even with an explicit Trust
Rule. In the long run I had to exclude Reddit for it to work but for most apps,
allowing it to bypass DNS and Firewall rules is sufficient.</p><h3 id=resources>Resources</h3><ul><li><p><a href=https://research.cloudflare.com/projects/network-privacy/odns/>Oblivious DNS over HTTPS</a></p></li><li><p><a href=https://www.ietf.org/archive/id/draft-denis-dprive-dnscrypt-06.html>DNSCrypt Protocol</a></p></li><li><p><a href=https://orbot.app/en/>Orbot app</a></p></li><li><p>Orbot is a free app from the Guardian Project that empowers other apps on your
device to use the internet more securely. Orbot uses Tor to encrypt your
internet traffic and hide it by bouncing through a seris of computers around
the world.
&ndash;<a href=https://support.torproject.org/glossary/orbot/>TorProject Orbot</a></p></li><li><p>WireGuard is an extremely simple yet fast and modern VPN that utilizes
state-of-the-art cryptography. &ndash;<a href=https://www.wireguard.com/>Wireguard.com</a></p></li><li><p><a href=https://ssd.eff.org/>EFF Surveillance Self Defense</a></p></li><li><p><a href=https://www.privacyguides.org/en/dns/>PrivacyGuides DNS Recommendations</a></p></li></ul></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>1291 words</span>
<span>7 - 10 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#configure-a-custom-dns-resolver-with-custom-blocklists-through-rethink-website>Configure a Custom DNS resolver with Custom blocklists through Rethink website</a></li><li><a href=#rethink-on-android>Rethink on Android</a></li><li><a href=#rethink-rules>Rethink Rules</a></li><li><a href=#rethink-firewall>Rethink Firewall</a></li><li><a href=#choose-ip-version>Choose IP Version</a></li><li><a href=#understanding-dns-over-https-and-dns-over-tls-in-the-rethinkdns-app>Understanding DNS over HTTPS and DNS over TLS in the RethinkDNS App</a></li><li><a href=#using-a-custom-dns-in-the-app>Using a Custom DNS in the App</a></li><li><a href=#logs>Logs</a><ul><li><a href=#resources>Resources</a></li></ul></li></ul></nav></aside></div></div></body></html>