<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Understanding_package_definitions | NixOS Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Understanding Package Definitions in Nix

     


In Nix, the concept of a package can refer to two things:


A collection of files and data that constitute a piece of software or an
artifact.


A Nix expression that describes how to create such a collection. This
expression acts as a blueprint before the package exists in a tangible form.


The process begins with writing a package definition using the Nix language.
This definition contains the necessary instructions and metadata about the
software you intend to &ldquo;package.&rdquo;">
<meta name="author" content="T Sawyer">
<link rel="canonical" href="http://localhost:1313/posts/understanding_package_definitions/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/understanding_package_definitions/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="NixOS Blog (Alt + H)">NixOS Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Understanding_package_definitions
    </h1>
    <div class="post-meta"><span title='2025-05-14 19:19:10 -0400 EDT'>May 14, 2025</span>&nbsp;Â·&nbsp;T Sawyer

</div>
  </header> 
  <div class="post-content"><h1 id="understanding-package-definitions-in-nix">Understanding Package Definitions in Nix<a hidden class="anchor" aria-hidden="true" href="#understanding-package-definitions-in-nix">#</a></h1>
<figure>
    <img loading="lazy" src="/images/gruv1.png"
         alt="gruvvy-bedroom" width="1000"/> 
</figure>

<p>In Nix, the concept of a <strong>package</strong> can refer to two things:</p>
<ul>
<li>
<p>A collection of files and data that constitute a piece of software or an
artifact.</p>
</li>
<li>
<p>A Nix <strong>expression</strong> that describes how to create such a collection. This
expression acts as a blueprint before the package exists in a tangible form.</p>
</li>
</ul>
<p>The process begins with writing a <strong>package definition</strong> using the Nix language.
This definition contains the necessary instructions and metadata about the
software you intend to &ldquo;package.&rdquo;</p>
<h2 id="the-journey-from-definition-to-package">The Journey from Definition to Package<a hidden class="anchor" aria-hidden="true" href="#the-journey-from-definition-to-package">#</a></h2>
<ol>
<li>
<p><strong>Package Definition:</strong></p>
<ul>
<li>
<p>This is essentially a function written in the Nix language.</p>
</li>
<li>
<p>Nix language shares similarities with JSON but includes the crucial
addition of functions.</p>
</li>
<li>
<p>It acts as the blueprint for creating a package.</p>
</li>
</ul>
</li>
<li>
<p><strong>Derivation:</strong></p>
<ul>
<li>
<p>When the package definition is evaluated by Nix, it results in
a <strong>derivation</strong>.</p>
</li>
<li>
<p>A derivation is a concrete and detailed build plan.</p>
</li>
<li>
<p>It outlines the exact steps Nix needs to take: fetching source code,
building dependencies, compiling code, and ultimately producing the
desired output (the package).</p>
</li>
</ul>
</li>
<li>
<p><strong>Realization (Building the Package):</strong></p>
<ul>
<li>
<p>You don&rsquo;t get a pre-built &ldquo;package&rdquo; directly from the definition or the
derivation.</p>
</li>
<li>
<p>The package comes into being when Nix <strong>executes</strong> the derivation. This
process is often referred to as &ldquo;realizing&rdquo; the derivation.</p>
</li>
</ul>
</li>
</ol>
<p><strong>Analogy:</strong> Think of a package definition as an architectural blueprint, the
derivation as the detailed construction plan, and the realized package as the
finished building.</p>
<h2 id="skeleton-of-a-derivation">Skeleton of a Derivation<a hidden class="anchor" aria-hidden="true" href="#skeleton-of-a-derivation">#</a></h2>
<p>The most basic derivation structure in Nix looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>{ stdenv }:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stdenv<span style="color:#f92672">.</span>mkDerivation { }
</span></span></code></pre></div><ul>
<li>
<p>This is a function that expects an attribute set containing <code>stdenv</code> as its
argument.</p>
</li>
<li>
<p>It then calls <code>stdenv.mkDerivation</code> (a function provided by <code>stdenv</code>) to
produce a derivation.</p>
</li>
<li>
<p>Currently, this derivation doesn&rsquo;t specify any build steps or outputs.</p>
</li>
<li>
<p>Further Reading:</p>
</li>
<li>
<p><a href="https://ryantm.github.io/nixpkgs/stdenv/stdenv/">The Standard Environment</a></p>
</li>
<li>
<p><a href="https://nixos.org/guides/nix-pills/19-fundamentals-of-stdenv.html">Fundamentals of Stdenv</a></p>
</li>
</ul>
<h2 id="example-a-simple-hello-package-definition">Example: A Simple &ldquo;Hello&rdquo; Package Definition<a hidden class="anchor" aria-hidden="true" href="#example-a-simple-hello-package-definition">#</a></h2>
<p>Here&rsquo;s a package definition for the classic &ldquo;hello&rdquo; program:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># hello.nix</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  stdenv<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  fetchzip<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>}:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stdenv<span style="color:#f92672">.</span>mkDerivation {
</span></span><span style="display:flex;"><span>  pname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>  version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;2.12.1&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  src <span style="color:#f92672">=</span> fetchzip {
</span></span><span style="display:flex;"><span>    url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;[https://ftp.gnu.org/gnu/hello/hello-2.12.1.tar.gz](https://ftp.gnu.org/gnu/hello/hello-2.12.1.tar.gz)&#34;</span>;
</span></span><span style="display:flex;"><span>    sha256 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>This is a Nix function that takes stdenv and fetchzip as arguments.</p>
</li>
<li>
<p>It uses <code>stdenv.mkDerivation</code> to define the build process for the &ldquo;hello&rdquo;
package.</p>
<ul>
<li>
<p><code>pname</code>: The package name.</p>
</li>
<li>
<p><code>version</code>: The package version.</p>
</li>
<li>
<p><code>src</code>: Specifies how to fetch the source code using <code>fetchzip</code>.</p>
</li>
</ul>
</li>
</ul>
<p><strong>Handling Dependencies: Importing Nixpkgs</strong></p>
<ul>
<li>
<p>If you try to build <code>hello.nix</code> directly with <code>nix-build hello.nix</code>, it will
fail because <code>stdenv</code> and <code>fetchzip</code> are part of Nixpkgs, which isn&rsquo;t included
in this isolated file.</p>
</li>
<li>
<p>To make this package definition work, you need to pass the correct arguments
(<code>stdenv</code>, <code>fetchzip</code>) to the function.</p>
</li>
</ul>
<p>The recommended approach is to create a <code>default.nix</code> file in the same
directory:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># default.nix</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>  nixpkgs <span style="color:#f92672">=</span> fetchTarball <span style="color:#e6db74">&#34;[https://github.com/NixOS/nixpkgs/tarball/nixos-24.05](https://github.com/NixOS/nixpkgs/tarball/nixos-24.05)&#34;</span>;
</span></span><span style="display:flex;"><span>  pkgs <span style="color:#f92672">=</span> <span style="color:#f92672">import</span> nixpkgs { config <span style="color:#f92672">=</span> {}; overlays <span style="color:#f92672">=</span> []; };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  hello <span style="color:#f92672">=</span> pkgs<span style="color:#f92672">.</span>callPackage <span style="color:#e6db74">./hello.nix</span> { };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>This <code>default.nix</code> imports Nixpkgs.</p>
</li>
<li>
<p>It then uses <code>pkgs.callPackage</code> to call the function in <code>hello.nix</code>, passing
the necessary dependencies from Nixpkgs.</p>
</li>
<li>
<p>You can now build the &ldquo;hello&rdquo; package using: <code>nix-build -A hello</code>. The
<code>-A</code> flag tells Nix to build the attribute named hello from the top-level
expression in default.nix.</p>
</li>
</ul>
<p><strong>Realizing the Derivation and Handling sha256</strong></p>
<ul>
<li>
<p><strong>Evaluation vs. Realization</strong>: While &ldquo;evaluate&rdquo; refers to Nix processing an
expression, &ldquo;realize&rdquo; often specifically means building a derivation and
producing its output in the Nix store.</p>
</li>
<li>
<p>When you first run <code>nix-build -A hello</code>, it will likely fail due to a missing
sha256 hash for the source file. Nix needs this hash for security and
reproducibility. The error message will provide the correct sha256 value.</p>
</li>
<li>
<p><strong>Example Error</strong>):</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  nix-build -A hello
</span></span><span style="display:flex;"><span>  error: hash mismatch in fixed-output derivation <span style="color:#e6db74">&#39;/nix/store/pd2kiyfa0c06giparlhd1k31bvllypbb-source.drv&#39;</span>:
</span></span><span style="display:flex;"><span>  specified: sha256-AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>  got: sha256-1kJjhtlsAkpNB7f6tZEs+dbKd8z7KoNHyDHEJ0tmhnc<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>  error: <span style="color:#ae81ff">1</span> dependencies of derivation <span style="color:#e6db74">&#39;/nix/store/b4mjwlv73nmiqgkdabsdjc4zq9gnma1l-hello-2.12.1.drv&#39;</span> failed to build
</span></span></code></pre></div><ul>
<li>Replace the empty <code>sha256 = &quot;&quot;;</code> in <code>hello.nix</code> with the provided correct
value: <code>sha256 = &quot;1kJjhtlsAkpNB7f6tZEs+dbKd8z7KoNHyDHEJ0tmhnc=&quot;;</code>.</li>
</ul>
<p><strong>Building and Running the Result</strong></p>
<p>After updating the <code>sha256</code>, you can successfully build the package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nix-build -A hello
</span></span></code></pre></div><p>The output will be a result symlink pointing to the built package in the Nix
store. You can then run the &ldquo;hello&rdquo; program:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./result/bin/hello
</span></span><span style="display:flex;"><span>Hello, world!
</span></span></code></pre></div><h3 id="swaytools-package-definition">Swaytools Package Definition<a hidden class="anchor" aria-hidden="true" href="#swaytools-package-definition">#</a></h3>
<p><strong>Example: The swaytools Package Definition</strong></p>
<p>Let&rsquo;s examine a more complex, real-world package definition from Nixpkgs:
<code>nixpkgs/pkgs/tools/wayland/swaytools/default.nix</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># default.nix</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  lib<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  setuptools<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  buildPythonApplication<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  fetchFromGitHub<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  slurp<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>}:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>buildPythonApplication <span style="color:#66d9ef">rec</span> {
</span></span><span style="display:flex;"><span>  pname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;swaytools&#34;</span>;
</span></span><span style="display:flex;"><span>  version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;0.1.2&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;pyproject&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  src <span style="color:#f92672">=</span> fetchFromGitHub {
</span></span><span style="display:flex;"><span>    owner <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;tmccombs&#34;</span>;
</span></span><span style="display:flex;"><span>    repo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;swaytools&#34;</span>;
</span></span><span style="display:flex;"><span>    rev <span style="color:#f92672">=</span> version;
</span></span><span style="display:flex;"><span>    sha256 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sha256-UoWK53B1DNmKwNLFwJW1ZEm9dwMOvQeO03+RoMl6M0Q=&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  nativeBuildInputs <span style="color:#f92672">=</span> [ setuptools ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  propagatedBuildInputs <span style="color:#f92672">=</span> [ slurp ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  meta <span style="color:#f92672">=</span> <span style="color:#66d9ef">with</span> lib; {
</span></span><span style="display:flex;"><span>    homepage <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://github.com/tmccombs/swaytools&#34;</span>;
</span></span><span style="display:flex;"><span>    description <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Collection of simple tools for sway (and i3)&#34;</span>;
</span></span><span style="display:flex;"><span>    license <span style="color:#f92672">=</span> licenses<span style="color:#f92672">.</span>gpl3Only;
</span></span><span style="display:flex;"><span>    maintainers <span style="color:#f92672">=</span> <span style="color:#66d9ef">with</span> maintainers; [ atila ];
</span></span><span style="display:flex;"><span>    platforms <span style="color:#f92672">=</span> platforms<span style="color:#f92672">.</span>linux;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="breakdown-of-the-above-defaultnix">Breakdown of the Above default.nix<a hidden class="anchor" aria-hidden="true" href="#breakdown-of-the-above-defaultnix">#</a></h3>
<p>1 <strong>Function Structure</strong>:</p>
<ul>
<li>The file starts with a function taking an attribute set of dependencies from
Nixpkgs: <code>{ lib, setuptools, buildPythonApplication, fetchFromGitHub, slurp }</code>
:.</li>
</ul>
<ol start="2">
<li><strong>Derivation Creation</strong>:</li>
</ol>
<ul>
<li>It calls <code>buildPythonApplication</code>, a specialized helper for Python packages
(similar to <code>stdenv.mkDerivation</code> but pre-configured for Python). The <code>rec</code>
keyword allows attributes within the derivation to refer to each other.</li>
</ul>
<ol start="3">
<li><strong>Package Metadata</strong>:</li>
</ol>
<ul>
<li>
<p><code>pname</code> and <code>version</code> define the package&rsquo;s name and version.</p>
</li>
<li>
<p>The <code>meta</code> attribute provides standard package information like the homepage,
description, license, maintainers, and supported platforms.</p>
</li>
</ul>
<ol start="4">
<li><strong>Source Specification</strong>:</li>
</ol>
<ul>
<li>The <code>src</code> attribute uses <code>fetchFromGitHub</code> to download the source code from
the specified repository and revision, along with its <code>sha256</code> hash for
verification.</li>
</ul>
<ol start="5">
<li><strong>Build and Runtime Dependencies</strong>:</li>
</ol>
<ul>
<li>
<p><code>nativeBuildInputs</code>: Lists tools required during the build process (e.g.,
<code>setuptools</code> for Python).</p>
</li>
<li>
<p><code>propagatedBuildInputs</code>: Lists dependencies needed at runtime (e.g., <code>slurp</code>).</p>
</li>
</ul>
<ol start="6">
<li><strong>Build Format</strong>:</li>
</ol>
<ul>
<li><code>format = &quot;pyproject&quot;;</code> indicates that the package uses a <code>pyproject.toml</code>
file for its Python build configuration.</li>
</ul>
<p><strong>Integration within Nixpkgs</strong></p>
<ul>
<li>
<p><strong>Location</strong>: The swaytools definition resides in
<code>pkgs/tools/wayland/swaytools/default.nix</code>.</p>
</li>
<li>
<p><strong>Top-Level Inclusion</strong>: It&rsquo;s made available as a top-level package in
<code>pkgs/top-level/all-packages.nix</code> like this:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># all-packages.nix</span>
</span></span><span style="display:flex;"><span>swaytools <span style="color:#f92672">=</span> python3Packages<span style="color:#f92672">.</span>callPackage <span style="color:#e6db74">../tools/wayland/swaytools</span> { };
</span></span></code></pre></div><ul>
<li><code>python3Packages.callPackage</code> is used here because <code>swaytools</code> is a Python
package, and it ensures the necessary Python-related dependencies are
correctly passed to the <code>swaytools</code> definition.</li>
</ul>
<h3 id="resources">Resources<a hidden class="anchor" aria-hidden="true" href="#resources">#</a></h3>
<ul>
<li><a href="https://nix.dev/tutorials/packaging-existing-software.html">Packaging Existing Software</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">NixOS Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
