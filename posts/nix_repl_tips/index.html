<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Nix_repl_tips | NixOS Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Nix Repl List available commands

     




Nix Reference Manual Nix Repl


The command: nix repl - starts an interactive environment for evaluating
Nix expressions.


This command provides an interactive environment for evaluating Nix expressions. (REPL stands for &lsquo;read–eval–print loop&rsquo;.)


On startup, it loads the Nix expressions named files and adds them into the
lexical scope. You can load addition files using the :l &lt;filename&gt; command,
or reload all files using :r.">
<meta name="author" content="T Sawyer">
<link rel="canonical" href="http://localhost:1313/posts/nix_repl_tips/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/nix_repl_tips/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="NixOS Blog (Alt + H)">NixOS Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Nix_repl_tips
    </h1>
    <div class="post-meta"><span title='2025-05-14 19:18:13 -0400 EDT'>May 14, 2025</span>&nbsp;·&nbsp;T Sawyer

</div>
  </header> 
  <div class="post-content"><h1 id="nix-repl-list-available-commands">Nix Repl List available commands<a hidden class="anchor" aria-hidden="true" href="#nix-repl-list-available-commands">#</a></h1>
<figure>
    <img loading="lazy" src="/images/gruv11.png"
         alt="gruv11" width="1000"/> 
</figure>

<ul>
<li>
<p><a href="https://nix.dev/manual/nix/2.17/command-ref/new-cli/nix3-repl">Nix Reference Manual Nix Repl</a></p>
</li>
<li>
<p>The command: <code>nix repl</code> - starts an interactive environment for evaluating
Nix expressions.</p>
</li>
<li>
<p>This command provides an interactive environment for evaluating Nix expressions. (REPL stands for &lsquo;read–eval–print loop&rsquo;.)</p>
</li>
</ul>
<p>On startup, it loads the Nix expressions named files and adds them into the
lexical scope. You can load addition files using the <code>:l &lt;filename&gt;</code> command,
or reload all files using <code>:r</code>.</p>
<p>List available commands with <code>:?</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix repl
</span></span><span style="display:flex;"><span>Nix <span style="color:#ae81ff">2</span><span style="color:#ae81ff">.24.11</span>
</span></span><span style="display:flex;"><span>Type :<span style="color:#f92672">?</span> for help<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> :<span style="color:#f92672">?</span>
</span></span></code></pre></div><h2 id="load-nix-expressions-directly">Load Nix expressions Directly<a hidden class="anchor" aria-hidden="true" href="#load-nix-expressions-directly">#</a></h2>
<p>You can quickly evaluate a random Nix expression:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix repl <span style="color:#960050;background-color:#1e0010">--</span>expr <span style="color:#960050;background-color:#1e0010">&#39;</span>{a <span style="color:#f92672">=</span> { b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; c <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>; }; }<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to Nix <span style="color:#ae81ff">2</span><span style="color:#ae81ff">.11.0</span><span style="color:#f92672">.</span> Type :<span style="color:#f92672">?</span> for help<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Loading installable <span style="color:#e6db74">&#39;&#39;...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Added 1 variables.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nix-repl&gt; a
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">{ b = 3; c = 4; }
</span></span></span></code></pre></div><ul>
<li>The <code>--expr</code> flag is helpful to prime directly the Nix REPL with valuable data
or values.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix repl <span style="color:#960050;background-color:#1e0010">--</span>expr <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">import</span> <span style="color:#e6db74">&lt;nixpkgs&gt;</span>{}<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> helix<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;helix-25.01.1&#34;</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> helix<span style="color:#f92672">.</span>drvPath
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;/nix/store/1rxncc2jk2l2gc1f8m0442ak1yn1s5gj-helix-25.01.1.drv&#34;</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> drv <span style="color:#f92672">=</span> runCommand <span style="color:#e6db74">&#34;hello&#34;</span> { buildInputs <span style="color:#f92672">=</span> [ hello ]; } <span style="color:#e6db74">&#34;hello; hello &gt; $out&#34;</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> :b drv
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> builtins<span style="color:#f92672">.</span>readFile drv
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Hello, world!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> :log drv
</span></span><span style="display:flex;"><span>Hello<span style="color:#960050;background-color:#1e0010">,</span> world<span style="color:#f92672">!</span>
</span></span></code></pre></div><ul>
<li><code>:b</code> is for build derivation</li>
</ul>
<h3 id="load-flakes">Load Flakes<a hidden class="anchor" aria-hidden="true" href="#load-flakes">#</a></h3>
<p>We can use the <code>--expr</code> flag to load a random Nix Flake directly:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix repl <span style="color:#960050;background-color:#1e0010">--</span>expr <span style="color:#960050;background-color:#1e0010">&#39;</span>builtins<span style="color:#f92672">.</span>getFlake <span style="color:#e6db74">&#34;github:nix-community/ethereum.nix&#34;</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div><p>Also, you can load a flake directly inside the REPL with <code>:load-flake</code> or <code>:lf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix repl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> :lf <span style="color:#e6db74">github:nix-community/home-manager</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> :lf <span style="color:#e6db74">/path/to/your/flake</span>
</span></span></code></pre></div><h2 id="debugging-with-a-flake-repl-output">Debugging with a Flake REPL output<a hidden class="anchor" aria-hidden="true" href="#debugging-with-a-flake-repl-output">#</a></h2>
<ul>
<li>One way to do this is to launch the repl with <code>nix repl</code> and inside the repl
type <code>:lf /path/to/flake</code>. Or <code>nixos-rebuild repl --flake /path/to/flake</code> the
latter provides a helpful welcome script showing what is loaded into your
repl&rsquo;s scope.</li>
</ul>
<p>I like to create a simple repl output to load your flake into the environment
with <code>nix repl .#repl</code>.</p>
<p>First, we&rsquo;ll create a REPL environment to inspect and debug our flake&rsquo;s outputs,
packages, and configurations. Define a <code>repl</code> output in <code>flake.nix</code> for easy
access with <code>nix repl .#repl</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># flake.nix</span>
</span></span><span style="display:flex;"><span>outputs <span style="color:#f92672">=</span> { self<span style="color:#f92672">,</span> nixpkgs<span style="color:#f92672">,</span> <span style="color:#f92672">...</span> }: <span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>  pkgs <span style="color:#f92672">=</span> <span style="color:#f92672">import</span> nixpkgs { system <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x86_64-linux&#34;</span>; };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">in</span> {
</span></span><span style="display:flex;"><span>  repl <span style="color:#f92672">=</span> <span style="color:#f92672">import</span> <span style="color:#e6db74">./repl.nix</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">inherit</span> (pkgs) lib;
</span></span><span style="display:flex;"><span>    flake <span style="color:#f92672">=</span> self;
</span></span><span style="display:flex;"><span>    pkgs <span style="color:#f92672">=</span> pkgs;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>And in <code>repl.nix</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># repl.nix</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  lib<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  flake<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>  pkgs<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>}: {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">inherit</span> flake pkgs lib;
</span></span><span style="display:flex;"><span>  configs <span style="color:#f92672">=</span> flake<span style="color:#f92672">.</span>nixosConfigurations;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># inherit (flake.outputs) userVars;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Accepts `lib`, `flake`, `pkgs` from `flake.nix` as arguments</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Attributes: flake: all flake outputs (flake.outputs, flake.inputs)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># run `nix repl .#repl` to load the REPL environment</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :l &lt;nixpkgs&gt;  # load additional Nixpkgs if needed</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p flake.inputs.nixpkgs.rev # nixpkgs revision</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p flake.inputs.home-manager.rev</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># flake.outputs.packages.x86_64-linux.default # inspect default package</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># pkgs.helix # access helix package</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lib.version # check lib version</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># configs.magic.config.environment.systemPackages # list packages</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># configs.magic.config.home-manager.users.jr.home.packages # home packages</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config.home-manager.users.jr.programs.git.userName</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Debugging</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p builtins.typeOf configs.magic (should be `set`)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p builtins.attrNames configs.magic</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config # errors indicate issues</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config.environment # isolate the module or issue</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p builtins.attrNames configs.magic.config.home-manager.users.jr # home attrs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config.home-manager.users.jr.programs.git.enable # true/false</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  :p lib.filterAttrs (n: v: lib.hasPrefix &#34;firefox&#34; n) pkgs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config.stylix # check theming</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p configs.magic.config.home-manager.users.jr.stylix</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :p lib.mapAttrsToList (name: cfg: name) configs</span>
</span></span></code></pre></div><blockquote>
<p>❗: Replace <code>magic</code> with your host name</p></blockquote>
<h3 id="usage">Usage<a hidden class="anchor" aria-hidden="true" href="#usage">#</a></h3>
<p>Load REPL environment with:
<code>nix repl .#repl</code></p>
<p>Attributes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> builtins<span style="color:#f92672">.</span>attrNames flake<span style="color:#f92672">.</span>inputs
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;dont-track-me&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;helix&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;home-manager&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;hyprland&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;neovim-nightly-overlay&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;nixpkgs&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;nvf&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;rose-pine-hyprcursor&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;stylix&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;treefmt-nix&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;wallpapers&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;wezterm&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;yazi&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> builtins<span style="color:#f92672">.</span>attrNames flake<span style="color:#f92672">.</span>outputs
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;checks&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;devShells&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;formatter&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;nixosConfigurations&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;packages&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;repl&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> flake<span style="color:#f92672">.</span>outputs<span style="color:#f92672">.</span>formatter
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  x86_64-linux <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">«</span>derivation <span style="color:#e6db74">/nix/store/q71q00wmh1gnjzdrw5nrvwbr6k414036-treefmt.drv</span><span style="color:#960050;background-color:#1e0010">»</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Inspect the default package output:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nix-repl<span style="color:#f92672">&gt;</span> flake<span style="color:#f92672">.</span>outputs<span style="color:#f92672">.</span>packages<span style="color:#f92672">.</span>x86_64-linux<span style="color:#f92672">.</span>default
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">«</span>derivation <span style="color:#e6db74">/nix/store/6kp660mm62saryskpa1f2p6zwfalcx2w-default-tools.drv</span><span style="color:#960050;background-color:#1e0010">»</span>
</span></span></code></pre></div><ul>
<li>
<p>From here out I&rsquo;ll leave out the <code>nix-repl&gt;</code> prefix just know that it&rsquo;s there.</p>
</li>
<li>
<p>Check lib version(Nixpkgs <code>lib</code> attribute):</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>lib<span style="color:#f92672">.</span>version
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;25.05pre-git&#34;</span>
</span></span></code></pre></div><ul>
<li>List systemPackages and home.packages, my hostname is <code>magic</code> list yours in
its place:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>configs<span style="color:#f92672">.</span>magic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>environment<span style="color:#f92672">.</span>systemPackages
</span></span><span style="display:flex;"><span><span style="color:#75715e"># list home.packages</span>
</span></span><span style="display:flex;"><span>configs<span style="color:#f92672">.</span>magic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>home-manager<span style="color:#f92672">.</span>users<span style="color:#f92672">.</span>jr<span style="color:#f92672">.</span>home<span style="color:#f92672">.</span>packages
</span></span></code></pre></div><ul>
<li>Or an individual value:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>:p configs<span style="color:#f92672">.</span>magic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>home-manager<span style="color:#f92672">.</span>users<span style="color:#f92672">.</span>jr<span style="color:#f92672">.</span>programs<span style="color:#f92672">.</span>git<span style="color:#f92672">.</span>userName
</span></span><span style="display:flex;"><span>TSawyer87
</span></span></code></pre></div><h3 id="debugging">Debugging<a hidden class="anchor" aria-hidden="true" href="#debugging">#</a></h3>
<ul>
<li>Check if the module system is fully evaluating, anything other than a &ldquo;set&rdquo;
the configuration isn&rsquo;t fully evaluated (e.g. &ldquo;lambda&rdquo; might indicate an
unevaluated thunk):</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>:p builtins<span style="color:#f92672">.</span>typeOf configs<span style="color:#f92672">.</span>magic
</span></span><span style="display:flex;"><span>set
</span></span></code></pre></div><ul>
<li>
<p>Debugging Module System:</p>
</li>
<li>
<p>Check if <code>configs.magic</code> is a valid configuration:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>:p builtins<span style="color:#f92672">.</span>attrNames configs<span style="color:#f92672">.</span>magic
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">NixOS Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
